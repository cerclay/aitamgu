
# 1. 개요(Overview)

- **프로젝트 이름**: 간단한 의약품 식별 서비스
- **프로젝트 유형**: HTML, CSS, JavaScript로 구현되는 SPA(또는 단일 HTML 기반)  
- **주요 목표**  
  - 사용자가 의약품 식별 정보를 쉽게 조회할 수 있도록 UI/UX 제공  
  - 백엔드 서버 없이, 브라우저 **Local Storage**를 활용해 데이터 관리  
  - 추가 의약품 정보를 확장/관리하기 용이한 구조 설계

---

# 2. 주요 대상 사용자(User Persona)

1. **약사 및 의료 관계자**  
   - 의약품 식별이 필요한 상황에서 간단히 검색/필터링 가능  
   - 빠른 시각적 확인이 중요한 사용자
2. **일반 사용자(환자/보호자)**  
   - 보유 의약품 정보 재확인, 기본 특징(모양, 색상, 식별문자 등) 조회  
   - 이미지 기반으로 간단히 식별 가능

---

# 3. 범위(Scope) 및 목표(Goals)

1. **의약품 조회**  
   - 기본 제공되는 의약품 데이터(품목일련번호, 품목명, 성상, 큰제품이미지, 표시앞, 표시뒤, 의약품제형, 색상앞)를 바탕으로 검색 및 식별
2. **검색/필터링 기능**  
   - 품목명, 표시문자, 색상, 제형 등을 기준으로 한 검색/필터  
   - 부분 일치, 정확 일치 검색 방식 지원
3. **의약품 상세 정보 페이지(또는 모달)**  
   - 사용자가 특정 의약품을 클릭하면, 더욱 자세한 정보를 확인할 수 있음  
   - 이미지와 함께 주요 식별 정보 제공
4. **로컬 스토리지(Local Storage) 연동**  
   - 초기 의약품 데이터는 JavaScript의 하드코딩 또는 JSON 파일로 로드  
   - 로컬스토리지에 데이터를 저장하고, 이후 사용자 편집(추가/삭제/수정)에 반영
5. **UI/UX**  
   - 반응형 웹(Responsive) 구현 고려(모바일, 태블릿, PC에서 뷰어블)  
   - 이미지(큰제품이미지)를 통한 직관적인 식별 기능  
   - List/Table/Card 등의 직관적인 뷰 제공

---

# 4. 기능 요건(Functional Requirements)

## 4.1 초기 데이터 로드 및 표시
1. **데이터 로드**  
   - 기본 의약품 정보는 하드코딩된 배열 혹은 JSON 형태로 제공  
   - 페이지 로딩 시, 로컬 스토리지에 기존 데이터가 없으면 초기 데이터 로드 후 로컬 스토리지에 저장
2. **기본 데이터**  
   - 예시 (3개 품목):
     ```plaintext
     [
       {
         "품목일련번호": "200808876",
         "품목명": "가스디알정50밀리그램(디메크로틴산마그네슘)",
         "성상": "녹색의 원형 필름코팅정",
         "큰제품이미지": "https://nedrug.mfds.go.kr/pbp/cmn/itemImageDownload/147426403087300104",
         "표시앞": "IDG",
         "표시뒤": "",
         "의약품제형": "원형",
         "색상앞": "연두"
       },
       {
         "품목일련번호": "200808877",
         "품목명": "페라트라정2.5밀리그램(레트로졸)",
         "성상": "어두운 황색의 원형 필름코팅정",
         "큰제품이미지": "https://nedrug.mfds.go.kr/pbp/cmn/itemImageDownload/147426403087300107",
         "표시앞": "YH",
         "표시뒤": "LT",
         "의약품제형": "원형",
         "색상앞": "노랑"
       },
       {
         "품목일련번호": "200808948",
         "품목명": "졸뎀속붕정(졸피뎀타르타르산염)",
         "성상": "흰색의 원형 구강붕해정제",
         "큰제품이미지": "https://nedrug.mfds.go.kr/pbp/cmn/itemImageDownload/147426403087300128",
         "표시앞": "",
         "표시뒤": "",
         "의약품제형": "원형",
         "색상앞": "하양"
       }
     ]
     ```

## 4.2 검색 및 필터
1. **검색**  
   - 품목명 / 표시앞 / 표시뒤 / 의약품제형 / 색상 등으로 검색 가능  
   - 부분 일치 검색(예: "가스"만 입력해도 "가스디알정50밀리그램" 검색 가능)
2. **필터**  
   - 의약품제형, 색상, 표시앞/뒤 등 카테고리 단위로 선택해서 필터링
3. **결과 표시**  
   - 검색/필터 조건을 만족하는 의약품 리스트 표시  
   - 이미지(썸네일), 품목명, 식별문자 등의 핵심 정보만 일단 표시

## 4.3 의약품 상세 보기
1. **의약품 상세 페이지(또는 모달 팝업)**  
   - 선택된 의약품에 대한 성상(모양), 이미지, 표시앞/뒤, 색상 등 정보를 한눈에 표시  
   - 추가로 안내할 수 있는 정보를 확장 가능(예: 복용 시 주의사항, 투여경로 등)
2. **UI/UX 요구사항**  
   - 이미지는 사용자에게 잘 보이도록 반응형으로 렌더링  
   - 텍스트는 가독성 높은 폰트/배치 사용

## 4.4 로컬 스토리지 기반 CRUD
1. **읽기(Reading)**  
   - 페이지 로드 시 로컬 스토리지에서 모든 의약품 정보 읽어와 메인 화면에 표시
2. **추가(Creating)**  
   - 관리용 인터페이스(관리자 모드 또는 별도 버튼)에서 새로운 의약품 정보 추가  
   - 추가 시 폼으로 각 필드(품목명, 성상, 표시앞, 색상 등) 입력 → 로컬 스토리지에 저장
3. **수정(Updating)**  
   - 기존 의약품 정보를 수정할 수 있는 UI 제공(관리자용)  
   - 수정 완료 후 로컬 스토리지에 반영
4. **삭제(Deleting)**  
   - 의약품 삭제 기능(관리자용)  
   - 삭제 시 로컬 스토리지에서도 해당 데이터 제거

## 4.5 예외 처리
1. **검색 결과 없음**  
   - “검색 결과가 없습니다” 메시지 표시  
2. **데이터 로드 실패**  
   - 초기 데이터 로드에 실패한 경우, 사용자에게 오류 메시지 표시  
   - 로컬 스토리지 초기화 버튼(또는 기능)을 제공하여 재시도 가능  
3. **필수 입력값 누락**  
   - 품목명, 의약품제형 등 필수 필드가 누락되면 추가/수정 불가

## 4.6 로깅(Logging)
- **브라우저 콘솔**을 통한 기본 로깅(개발 단계)  
- 실 운영 시에는 별도 서버 로그가 없으므로, 오류 발생 시 사용자에게 에러 메시지 및 개발자용 디버그 정보 안내

---

# 5. 비기능 요건(Non-Functional Requirements)

## 5.1 보안(Secure Frontend)
- 백엔드가 없으므로 민감한 개인정보는 저장하지 않음  
- XSS 예방을 위해 사용자 입력값을 DOM에 삽입할 때 이스케이프 처리  
- Local Storage에 저장된 데이터 무결성을 위해, 최소한의 구조 검증 로직 적용

## 5.2 성능(Performance)
- 데이터셋이 적을 경우(수십~수백 건) 일반적인 for/loop 기반 검색으로도 충분  
- 데이터가 많아질 경우(수천 건 이상), 브라우저 성능을 고려하여 검색 최적화(예: client-side indexing, Web Worker 활용 등) 가능

## 5.3 확장성(Scalability)
- 추후 백엔드 DB와 연동 가능하도록 코드를 구조화(데이터 관리 로직을 별도 모듈화)  
- 의약품 정보 항목(예: 효능, 용법용량 등)을 추가할 수 있도록 JSON 구조 확장성 고려

## 5.4 배포 및 운영
- **배포**: 정적 웹(HTML, CSS, JS)만 있으면 되므로, GitHub Pages 또는 S3 Static Hosting 등으로 간단히 배포  
- **운영**: 버전 관리(예: Git을 통한 코드 관리), 오탈자나 데이터 업데이트 필요 시 로컬 스토리지 초기화 로직 포함

---

# 6. UI/UX 요구사항

1. **메인 페이지(검색/리스트 화면)**  
   - 검색창: 품목명, 색상, 모양 등으로 검색 가능  
   - 필터 영역: 제형(원형, 타원형 등), 색상(연두, 노랑, 하양 등) 선택  
   - 의약품 리스트:  
     - 품목명, 표시앞/뒤, 대표 이미지 썸네일  
     - 클릭 시 상세 팝업 or 상세 페이지 이동  
2. **의약품 상세 페이지/팝업**  
   - **큰제품이미지** 크게 표시  
   - 의약품 성상, 제형, 색상, 표시앞/뒤 등 텍스트 정보 함께 표시  
   - ‘이전으로 돌아가기’ 또는 ‘닫기’ 버튼
3. **관리자(데이터 편집) 모드**  
   - 새 의약품 추가(간단한 폼)  
   - 기존 의약품 수정/삭제 기능  
   - UI는 별도 버튼 또는 URL 파라미터 방식으로 진입

---

# 7. 데이터 구조 및 관리

```js
// 예시: localStorage에 저장될 데이터 구조
{
  "drugData": [
    {
      "id": "200808876",
      "name": "가스디알정50밀리그램(디메크로틴산마그네슘)",
      "shapeDesc": "녹색의 원형 필름코팅정",
      "imageUrl": "https://nedrug.mfds.go.kr/pbp/cmn/itemImageDownload/147426403087300104",
      "markFront": "IDG",
      "markBack": "",
      "type": "원형",
      "color": "연두"
    },
    // ...
  ]
}
```

- **Key**: `drugData`  
- **필드 명세**  
  - `id`: 품목일련번호  
  - `name`: 품목명  
  - `shapeDesc`: 성상  
  - `imageUrl`: 큰제품이미지  
  - `markFront`: 표시앞  
  - `markBack`: 표시뒤  
  - `type`: 의약품제형(원형 등)  
  - `color`: 색상앞(연두, 노랑 등)  

---

# 8. 사용자 시나리오(User Flows)

1. **검색/식별 시나리오**  
   1) 사용자 메인 페이지 접속  
   2) 검색창에 키워드 입력 (예: “가스”)  
   3) 검색 결과로 “가스디알정50밀리그램” 등이 표시  
   4) 목록 중 하나 선택 → 상세 보기  
   5) 상세 정보에서 이미지, 성상, 표시 문구 등을 확인
2. **데이터 편집 시나리오**  
   1) 관리자(약사, 개발자 등)가 ‘데이터 편집 모드’로 진입  
   2) ‘의약품 추가’ 클릭 → 폼에 데이터 입력 → 저장  
   3) 로컬 스토리지에 새로운 항목이 반영  
   4) 이미 존재하는 항목 편집 후 저장 → 업데이트된 정보 확인  
   5) 필요 시 의약품 삭제 → 로컬 스토리지 삭제

---

# 9. 장애 대응 및 모니터링

1. **장애 대응**  
   - 네트워크 장애: 정적 파일만 사용하므로, 최초 캐시 후에는 오프라인에서도 페이지 표시 가능(단, 추가 데이터는 로컬 스토리지에만 반영)  
   - 로컬 스토리지 손상/오류:  
     - 에러 시 사용자에게 재설정(초기화) 옵션 제공  
     - 중요한 데이터가 아니라면 치명적 문제는 아님  
   - 이미지 로딩 실패: 이미지 링크가 깨질 경우 대체 텍스트 표시  
2. **모니터링**  
   - 콘솔 에러 로깅  
   - 향후 GA(Google Analytics) 등 이벤트 트래킹 연동 가능

---

# 10. 확장 계획(로드맵)

1. **단기(베타 버전)**  
   - 로컬 스토리지 기반의 CRUD 기능 완성  
   - 검색/필터 UI 구현  
   - 의약품 상세 보기 화면/팝업 구현
2. **중기**  
   - 의약품 데이터 자동 업데이트(HTML5 offline DB or indexedDB 활용)  
   - 알약 식별에 필요한 추가 필드(두께, 표기문양, 제조회사 등) 확장  
   - 관리자 편집 UI 개선(대량 업로드, JSON Import/Export 등)
3. **장기**  
   - 백엔드 연동(DB 서버, REST API) 도입 가능성  
   - 모바일 앱(하이브리드 앱)으로 확장  
   - 외부 공공 API(예: 식약처 의약품정보) 연동을 통한 데이터 동기화

---

# 11. 성능 및 보안 고려사항

1. **성능**  
   - 검색/필터가 잦은 경우, 단순 배열 순회 + `filter()`로도 충분  
   - 데이터 크기가 커지면 Web Worker로 검색 로직 분리 고려  
   - 이미지 로드는 지연 로딩(lazy loading) 적용 가능
2. **보안**  
   - 로컬 스토리지에 민감한 사용자 정보(개인정보) 저장 금지  
   - 필드 입력 시 XSS 방지를 위해 HTML 이스케이프 처리  
   - 운영 환경에서 HTTPS 적용 권장(정적 호스팅 시에도 가능)

---

# 12. 테스트 및 품질 보증(QA)

1. **단위 테스트**  
   - 검색 함수 테스트(정확도, 부분 일치 등)  
   - 로컬 스토리지 CRUD 테스트(추가, 수정, 삭제 후 정상 반영 여부)  
2. **UI 테스트**  
   - 다양한 디바이스(모바일, 데스크탑)에서 레이아웃 문제 없는지 확인  
   - 필수 입력 필드 누락 시 에러 처리 제대로 동작하는지 확인
3. **회귀 테스트**  
   - 로컬 스토리지 초기화 후 다시 로드 시 데이터 정상 표시 여부  
   - 이미지 경로가 잘못된 경우 대체 이미지/텍스트 처리 확인
4. **에러 핸들링**  
   - 로컬 스토리지 접근 오류 시 사용자에게 알림 처리  
   - 검색 결과 없음 시 메시지 표시

---

# 13. 마일스톤 및 일정(Release Plan)

1. **MVP (1~2주 소요 예상)**
   - 초기 데이터 하드코딩 후 로컬 스토리지에 저장  
   - 기본 검색/필터/상세 보기 기능 구현  
   - 간단한 관리자 UI(추가/수정/삭제) 구현
2. **Beta (추가 1~2주)**
   - UI 개선(반응형, 이미지 로드 최적화)  
   - 필터 기능(색상, 제형 등) 강화  
   - 에러 핸들링 및 예외 처리 보강
3. **v1.0 (추가 2주 이상)**
   - 테스트 코드/QA 안정화  
   - 데이터 확장(추가 필드), JSON Import/Export  
   - 운영 환경(정적 호스팅) 배포 및 모니터링

---

## 체크리스트

- [x] **프로덕션 수준의 해결책 제시** (HTML/CSS/JS로 로컬 스토리지 기반 CRUD, 검색/필터, UI/UX 고려)  
- [x] **보안 및 성능 고려사항** (XSS 방지, 로딩 최적화, HTTPS 권장)  
- [x] **확장성 및 유지보수성 검토** (추가 필드 확장, 백엔드 연계 가능성)  
- [x] **구체적 구현 예시** (JSON 구조, 검색/필터 로직, 데이터 관리 로직)  
- [x] **운영 관점의 고려사항** (정적 호스팅 배포, 로컬 스토리지 장애 대응, 모니터링)  
- [x] **관련 모니터링/로깅 방안** (브라우저 콘솔, 에러 핸들링 메시지)

---

# Q&A 형식 예시

```plaintext
Q1. [핵심 기술 관련 심화 질문]
- 로컬 스토리지에 데이터가 수백~수천 건으로 늘어날 경우, 검색 성능 최적화 방안은?

Q2. [확장성/운영 관련 질문]
- 향후 백엔드와 연동해 의약품 데이터를 자동 업데이트하려면 어떤 구조가 필요한가?

Q3. [비즈니스/프로젝트 관리 관점 질문]
- 관리자 모드에서 대량의 의약품 정보를 쉽게 업로드/관리하려면 어떤 UI/UX가 좋을까?
```

